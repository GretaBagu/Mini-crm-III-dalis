<!-- PaieÅ¡kos filtrai -->
<div class="filters" style="margin-top: 20px; margin-bottom: 10px;">
  <label style="margin-right: 15px;">
    PaieÅ¡ka pagal pavadinimÄ…:
    <input type="text" [(ngModel)]="filterTitle" (input)="onFilterChange()" />
  </label>

  <label>
    PaieÅ¡ka pagal ISBN:
    <input type="text" [(ngModel)]="filterIsbn" (input)="onFilterChange()" />
  </label>
</div>

<!-- AntraÅ¡tÄ— -->
<h2>KnygÅ³ sÄ…raÅ¡as</h2>

<!-- Mygtukas naujai knygai -->
<div style="margin-bottom: 20px;">
  <button routerLink="/form">â• PridÄ—ti naujÄ… knygÄ…</button>
</div>

<!-- Krovimo indikatorius -->
<div *ngIf="loading">â³ Kraunama knygÅ³ sÄ…raÅ¡as...</div>

<!-- Klaida -->
<div *ngIf="error" class="error">
  âš ï¸ Klaida: {{ error }}
</div>

<!-- KnygÅ³ lentelÄ— -->
<table class="book-table" *ngIf="!loading && filteredBooks.length > 0">
  <thead>
  <tr>
    <th>Pavadinimas</th>
    <th>PuslapiÅ³ sk.</th>
    <th>ISBN</th>
    <th>ApraÅ¡ymas</th>
    <th>Autoriai</th>
    <th>Veiksmai</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let book of filteredBooks">
    <td>{{ book.title }}</td>
    <td>{{ book.pages }}</td>
    <td>{{ book.isbn }}</td>
    <td>{{ book.short_description || 'â€“' }}</td>
    <td>
        <span *ngIf="book.authors?.length > 0; else noAuthors">
          <span *ngFor="let author of book.authors; let i = index">
            {{ author.name }} {{ author.surname }}<span *ngIf="i < book.authors.length - 1">, </span>
          </span>
        </span>
      <ng-template #noAuthors>â€“</ng-template>
    </td>
    <td>
      <button (click)="editBook(book)">âœï¸</button>
      <button (click)="deleteBook(book.id)">ğŸ—‘ï¸</button>
    </td>
  </tr>
  </tbody>
</table>

<!-- NÄ—ra rezultatÅ³ -->
<div *ngIf="!loading && filteredBooks.length === 0">
  ğŸ“­ NÄ—ra rezultatÅ³ pagal pasirinktus filtrus.
</div>
